{"version":3,"sources":["file:///E:/2.workspace/cocos%20creator/slot/SlotMachine/assets/scripts/ReelController.ts"],"names":["_decorator","Component","Prefab","ccclass","property","ReelController","type","start","moveNextStatus","len","node","childrenCount","i","pos","children","position","cc","tween","to","v3","call","movingFinished","y","setPosition"],"mappings":";;;;;;;;;;;;;;AAASA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,S,OAAAA,S;AAAiBC,MAAAA,M,OAAAA,M;;;;;;;OAChC;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBJ,U;;gCAGjBK,c,WADZF,OAAO,CAAC,gBAAD,C,UAIHC,QAAQ,CAAC;AAACE,QAAAA,IAAI,EAAEJ;AAAP,OAAD,C,2BAJb,MACaG,cADb,SACoCJ,SADpC,CAC8C;AAAA;AAAA;;AAAA;AAAA;;AAM1CM,QAAAA,KAAK,GAAG,CAEP;;AAEDC,QAAAA,cAAc,GAAG;AAEb,cAAIC,GAAG,GAAG,KAAKC,IAAL,CAAUC,aAApB;;AACA,eAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGH,GAApB,EAAyBG,CAAC,EAA1B,EAA+B;AAC3B,gBAAIC,GAAG,GAAG,KAAKH,IAAL,CAAUI,QAAV,CAAmBF,CAAnB,EAAsBG,QAAhC;AACAC,YAAAA,EAAE,CAACC,KAAH,CAAS,KAAKP,IAAL,CAAUI,QAAV,CAAmBF,CAAnB,CAAT,EACKM,EADL,CACQ,IADR,EACc;AAAEH,cAAAA,QAAQ,EAAEC,EAAE,CAACG,EAAH,CAAM,CAAN,EAASN,GAAG,GAAC,EAAb,EAAiB,CAAjB;AAAZ,aADd,EAEKO,IAFL,CAEU,MAAM;AACRC,cAAAA,cAAc;AACjB,aAJL,EAKCd,KALD;AAMH;AACJ;;AAEDc,QAAAA,cAAc,GAAG;AAEb,cAAIZ,GAAG,GAAG,KAAKC,IAAL,CAAUC,aAApB;;AACA,eAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGH,GAApB,EAAyBG,CAAC,EAA1B,EAA+B;AAC3B,gBAAIC,GAAG,GAAG,KAAKH,IAAL,CAAUK,QAApB;AACA,gBAAGF,GAAG,CAACS,CAAJ,GAAQ,CAAC,EAAZ,EAAiB,KAAKZ,IAAL,CAAUI,QAAV,CAAmBF,CAAnB,EAAsBW,WAAtB,CAAkCP,EAAE,CAACG,EAAH,CAAM,CAAN,EAASV,GAAG,GAAG,EAAf,EAAmB,CAAnB,CAAlC;AACpB;;AAEDD,UAAAA,cAAc;AACjB;;AAjCyC,O;;;;;iBAId,E","sourcesContent":["import { _decorator, Component, Node, Prefab } from 'cc';\nconst { ccclass, property } = _decorator;\n\n@ccclass('ReelController')\nexport class ReelController extends Component {\n\n\n    @property({type: Prefab})\n    protected stops: Prefab[] = [];\n\n    start() {\n\n    }\n\n    moveNextStatus() {\n\n        var len = this.node.childrenCount;\n        for (var i = 0; i < len; i ++) {\n            var pos = this.node.children[i].position;\n            cc.tween(this.node.children[i])\n                .to(0.05, { position: cc.v3(0, pos-76, 0) })\n                .call(() => {\n                    movingFinished();\n                })\n            .start();\n        }\n    }\n\n    movingFinished() {\n\n        var len = this.node.childrenCount;\n        for (var i = 0; i < len; i ++) {\n            var pos = this.node.position;\n            if(pos.y < -10)  this.node.children[i].setPosition(cc.v3(0, len * 76, 0));\n        }\n        \n        moveNextStatus();\n    }\n\n}\n\n"]}