{"version":3,"sources":["file:///E:/2.workspace/cocos%20creator/slot/SlotMachine/assets/scripts/Global/AudioManager.ts"],"names":["_decorator","Component","clamp01","ccclass","property","AudioManager","init","audioSource","_audioSource","instance","_instance","playMusic","loop","playing","playSound","clip","volumeScale","playOneShot","setMusicVolume","flag","volume"],"mappings":";;;;;;;;AAASA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,S,OAAAA,S;AAC0BC,MAAAA,O,OAAAA,O;;;;;;;OACzC;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBJ,U;;8BAGjBK,Y,WADZF,OAAO,CAAC,cAAD,C,2BAAR,MACaE,YADb,SACmCJ,SADnC,CAC6C;AAK3CK,QAAAA,IAAI,CAAEC,WAAF,EAA4B;AAC1BF,UAAAA,YAAY,CAACG,YAAb,GAA4BD,WAA5B;AACH;;AAEyB,mBAARE,QAAQ,GAAI;AAC1B,cAAI,KAAKC,SAAT,EAAoB;AAChB,mBAAO,KAAKA,SAAZ;AACH;;AAED,eAAKA,SAAL,GAAiB,IAAIL,YAAJ,EAAjB;AACA,iBAAO,KAAKK,SAAZ;AACH;;AAEDC,QAAAA,SAAS,CAAEC,IAAF,EAAiB;AAEtB,eAAKJ,YAAL,CAAkBI,IAAlB,GAAyBA,IAAzB;;AACA,cAAI,CAAC,KAAKJ,YAAL,CAAkBK,OAAvB,EAAgC;AAC5B,iBAAKL,YAAL,CAAkBK,OAAlB;AACH;AACJ;;AAEDC,QAAAA,SAAS,CAAEC,IAAF,EAAQC,WAAmB,GAAG,CAA9B,EAAkC;AAEvC,eAAKR,YAAL,CAAkBS,WAAlB,CAA8BF,IAA9B,EAAoCC,WAApC;AACH;;AAEDE,QAAAA,cAAc,CAAEC,IAAF,EAAgB;AAE1BA,UAAAA,IAAI,GAAGjB,OAAO,CAACiB,IAAD,CAAd;AACA,eAAKX,YAAL,CAAkBY,MAAlB,GAA2BD,IAA3B;AACH;;AAnCwC,O,UAE1BT,S,mBACAF,Y","sourcesContent":["import { _decorator, Component, Node } from 'cc';\nimport { AudioClip, AudioSource, assert, warn, clamp01, resources } from \"cc\";\nconst { ccclass, property } = _decorator;\n\n@ccclass('AudioManager')\nexport class AudioManager  extends Component {\n\n    private static _instance: AudioManager;\n    private static _audioSource?: AudioSource;\n\n \tinit (audioSource: AudioSource) {\n        AudioManager._audioSource = audioSource;\n    }\n\n    public static get instance () {\n        if (this._instance) {\n            return this._instance;\n        }\n\n        this._instance = new AudioManager();\n        return this._instance;\n    }\n\n    playMusic (loop: boolean) {\n\n        this._audioSource.loop = loop;\n        if (!this._audioSource.playing) {\n            this._audioSource.playing();\n        }\n    }\n\n    playSound (clip, volumeScale: number = 1 ) {\n\n        this._audioSource.playOneShot(clip, volumeScale);\n    }\n\n    setMusicVolume (flag: number) {\n\n        flag = clamp01(flag);\n        this._audioSource.volume = flag;\n    }\n\n}"]}